(this["webpackJsonpbuscador-botanico"]=this["webpackJsonpbuscador-botanico"]||[]).push([[0],{20:function(e,t,a){e.exports=a(33)},25:function(e,t,a){},26:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(18),i=a.n(s),c=(a(25),a(3)),r=a(4),o=a(6),m=a(5),u=a(1),d=(a(26),a(27),function(e){var t=e.children;return l.a.createElement("h1",{className:"title is-1 mt-6 has-text-info"},t)}),h=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={selectedOption:""},e.handleOptionChange=function(t){e.setState({selectedOption:t.target.value},(function(){e.sendRadioValues()}))},e.sendRadioValues=function(){var t=e.state.selectedOption;console.log("Opcion selecionada"+t),e.props.onResults(t)},e}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"control"},l.a.createElement("label",{className:"radio"},l.a.createElement("input",{type:"radio",name:"rsvp",value:"genus_name",onChange:this.handleOptionChange}),"Genus"),l.a.createElement("label",{className:"radio"},l.a.createElement("input",{type:"radio",name:"rsvp",value:"scientific_name",onChange:this.handleOptionChange}),"Species"),l.a.createElement("label",{className:"radio"},l.a.createElement("input",{type:"radio",name:"rsvp",value:"common_name",onChange:this.handleOptionChange}),"Common name"))}}]),a}(n.Component),p="rmT15QniWjW_VZOh6PoGm1_xeYQ8jpdNifiAfZoVvBk",f={inputPlant:"",page:1,totalPlants:.1,initialPage:!0,finalPage:!1,showButtons:!1,radioValue:""},v=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state=f,e._handleChange=function(t){e.setState({inputPlant:t.target.value,page:1,totalPlants:.1})},e._handleNextPage=function(){var t=e.state.page;console.log("nextPageAnets "+t),e.setState({page:t+1}),console.log("nextPageDes"+t)},e._handlePreviousPage=function(){var t=e.state.page;e.setState({page:t-1})},e._handleFirstPage=function(){e.setState({page:1})},e._handleLastPage=function(){var t=e.state.totalPlants;e.setState({page:Math.ceil(t/20)})},e._handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.inputPlant,l=a.page,s=a.radioValue;""!==s&&""!==n&&fetch("".concat("https://cors-anywhere.herokuapp.com/","https://trefle.io/api/v1/plants?token=").concat(p,"&page=").concat(l,"&filter[").concat(s,"]=").concat(n)).then((function(e){return e.json()})).then((function(t){console.log(t);var a=t.data,n=void 0===a?[]:a,l=t.meta,s=void 0===l?0:l;e.props.onResults(n),e.setState({totalPlants:s.total}),s.total>0?e.setState({showButtons:!0}):e.setState({showButtons:!1}),e._handlePages()}))},e._handleRadioButtons=function(t){e.setState({radioValue:t}),console.log("handleRadioButtons"+t)},e}return Object(r.a)(a,[{key:"_handlePages",value:function(){var e=this.state,t=e.totalPlants,a=e.page;a>=Math.ceil(t/20)?this.setState({finalPage:!0}):this.setState({finalPage:!1}),1===a?this.setState({initialPage:!0}):this.setState({initialPage:!1})}},{key:"render",value:function(){var e=this.state,t=e.initialPage,a=e.finalPage,n=e.showButtons,s=e.radioValue;return l.a.createElement("div",{className:"ContainerSearchForm"},l.a.createElement("div",{className:"InformacionHome"},""===s?l.a.createElement("h4",{className:"subtitle is-4 has-text-info"},"Please, check an option"):l.a.createElement("h4",{className:"subtitle is-4 has-text-info"},"Please, write your search")),l.a.createElement("div",{className:"RadioButtons"},l.a.createElement(h,{onResults:this._handleRadioButtons})),l.a.createElement("form",{onSubmit:this._handleSubmit},l.a.createElement("div",{className:"field has-addons"},l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",onChange:this._handleChange,type:"text",placeholder:"Find plants"})),l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-info"},"Search"))),l.a.createElement("div",null,n?l.a.createElement("div",{className:"field is-grouped mt-6"},l.a.createElement("p",{className:"control"},l.a.createElement("button",{className:"button is-info is-small",onClick:this._handleFirstPage,disabled:t},"First")),l.a.createElement("p",{className:"control"},l.a.createElement("button",{className:"button is-info is-small ml-4",onClick:this._handlePreviousPage,disabled:t},"Prev")),l.a.createElement("p",{className:"control"},l.a.createElement("button",{className:"button is-info is-small ml-4",onClick:this._handleNextPage,disabled:a},"Next")),l.a.createElement("p",{className:"control"},l.a.createElement("button",{className:"button is-info is-small ml-4",onClick:this._handleLastPage,disabled:a},"Last"))):null)))}}]),a}(n.Component),g=a(10),E=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.scientific_name,a=e.image_url,n=e.id;return l.a.createElement(g.b,{to:"/detail/".concat(n),className:"card"},l.a.createElement("div",{className:"card-image"},l.a.createElement("figure",{className:"image"},l.a.createElement("img",{src:a,alt:"Img. not available"}))),l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"media"},l.a.createElement("div",{className:"media-content"},l.a.createElement("p",{className:"title is-4"},t)))))}}]),a}(n.Component),b=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.plants;return l.a.createElement("div",null,l.a.createElement("h4",{className:"subtitle is-6 mt-2"},"Find more information by clicking on the image"),1===e.length?l.a.createElement("div",{className:"SinglePlant"},l.a.createElement("div",{key:e[0].id,className:"PlantList-item"},l.a.createElement(E,{id:e[0].id,scientific_name:e[0].scientific_name,image_url:e[0].image_url}))):l.a.createElement("div",{className:"PlantList"},e.map((function(e){return l.a.createElement("div",{key:e.id,className:"PlantList-item"},l.a.createElement(E,{id:e.id,scientific_name:e.scientific_name,image_url:e.image_url}))}))))}}]),a}(n.Component),N=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={results:[],usedSearch:!1},e._handleResults=function(t){e.setState({results:t,usedSearch:!0})},e._handleRadioButtons=function(t){e.setState({radioButtonsValue:t}),console.log("handleRadioButtons"+t)},e}return Object(r.a)(a,[{key:"_renderResults",value:function(){return 0===this.state.results.length?l.a.createElement("p",null,"Sorry, no results were found"):l.a.createElement(b,{plants:this.state.results})}},{key:"render",value:function(){var e=this.state,t=e.results,a=e.usedSearch,n="";return n=0!==t.length||a?"ContainerResults":"ContainerHome",l.a.createElement("div",{className:n},l.a.createElement(d,null,"Plant Finder"),l.a.createElement("h4",{className:"subtitle is-6 is-italic has-text-weight-light"},"Francisco G. Gonz\xe1lvez"),l.a.createElement("div",{className:"SearchForm-Wrapper"},l.a.createElement(v,{onResults:this._handleResults})),a?this._renderResults():null)}}]),a}(n.Component),_=function(){return l.a.createElement(g.b,{className:"button is-info",to:"/plant-finder"},"Back to home")},P=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={plant:{}},e}return Object(r.a)(a,[{key:"_fechPlant",value:function(e){var t=this,a=e.id;fetch("".concat("https://cors-anywhere.herokuapp.com/","https://trefle.io/api/v1/species/").concat(a,"?token=").concat("rmT15QniWjW_VZOh6PoGm1_xeYQ8jpdNifiAfZoVvBk")).then((function(e){return e.json()})).then((function(e){var a=e.data;console.log(a),t.setState({plant:a})}))}},{key:"_goBack",value:function(){window.history.back()}},{key:"componentDidMount",value:function(){console.log(this.props);var e=this.props.match.params.plantId;this._fechPlant({id:e})}},{key:"render",value:function(){var e=this.state.plant,t=e.scientific_name,a=e.family,n=e.author,s=e.bibliography,i=e.common_name,c=e.image_url,r=e.year,o=e.observations;return l.a.createElement("div",null,l.a.createElement(d,null,"Plant Finder"),l.a.createElement(_,null),l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"media"},l.a.createElement("div",{className:"media-content"},l.a.createElement("p",{className:"title is-2"},a),l.a.createElement("p",{className:"subtitle is-4"},l.a.createElement("i",null,t)," ",n," ",r),l.a.createElement("p",{className:"subtitle is-5"},"Common name: ",i))),l.a.createElement("div",{className:"content"},l.a.createElement("strong",null,"Distribution"),": ",o,l.a.createElement("br",null),l.a.createElement("strong",null,"Bibliography"),": ",s)),l.a.createElement("div",{className:"card-image"},l.a.createElement("figure",{className:"image"},l.a.createElement("img",{src:c,alt:"Img. not available"})))))}}]),a}(n.Component),y=function(){return l.a.createElement("div",null,l.a.createElement("h1",{className:"title"},"404!"),l.a.createElement("h2",{className:"subtitle"},"No existe la p\xe1gina"),l.a.createElement(_,null))},O=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/plant-finder",component:N}),l.a.createElement(u.a,{path:"/detail/:plantId",component:P}),l.a.createElement(u.a,{component:y})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(g.a,null,l.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.40c82067.chunk.js.map